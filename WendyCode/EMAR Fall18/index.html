<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Misty EMAR  Setup and Control</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script src="scripts/lightClient.js"></script>
		<script src="scripts/lightSocket.js"></script>
		<link rel="stylesheet" href="styles/mainstyle.css">
        <link rel="stylesheet" href="styles/displaysetupstyle.css">
	</head>
	<body onload="loadImage()">
		<div id="page-wrapper">
			<h1>Misty EMAR  Setup and Control</h1>
            <p> Remember Misty must not be left unplugged with low battery. Battery needs to be above 7.5V for all motors to function. </p>
			<!-- 192.168.2.13 -->
            <div>
				<h3>Connect to Robot: 192.168.2.13</h3>
				<input type="text" id="ip-address" placeholder="IP Address" value= "192.168.2.13" required />
					<button type="button" id="connect">Connect</button>
			</div>

<!-- 			<h3>Console: </h3>
			<textarea id="results"></textarea> -->
		
            <!-- LED-->
			<h2>LED Control</h2>
            <p> Chose Color:  
                <input type="color" id="LEDcolorPicker" value= "#ff0000"> 
				<button type="button" id="changeLED" onclick="setLEDColor()" > Change LED Color</button>
            </p>    
		
			<!-- Expression Generator/Setup -->
			<h2>Expression Generator/Setup: </h2>
            <div id="Expression Gen">
            <div class="wrapper">
                <div id="mainDiv">
                            <img id="myImage" hidden onload="drawTextOnImage()">
                            <!--Hidden for element grabbing -->

                            <canvas id="mainCanvas"></canvas>

                            <!-- <a id="download" download="myImage.jpg" href="" onclick="downloadImage(this);">Download image</a> -->
                            
                </div>
			</div>
            
            <div>
                <p>   ChangeDisplayImage SaveImageAssetToRobot DeleteImageAssetFromRobot </p>
                <!-- https://docs.mistyrobotics.com/apis/api-reference/all-functions/#images-amp-display -->
                <input type="button" id="UploadToMisty" onclick="UploadToMisty()" value="UploadToMisty">
                <input type="button" id="UploadToMisty" onclick="UploadToMisty()" value="Delete from misty">
            </div>

			<div class="textInput">
                <input type="text" name="chosenText" id="chosenTextBox" value = "Add Text Here">
                <input type="button" id="addTextButton" onclick="setText()" value="Add Text">
                
			</div>
            
            
			<!-- <div class="imageGallery"> -->
                <div class="gallery"  id="imageButtons">

                    <img src="img/raw/Angry.jpg" class="chosenImages" alt="" onclick="setImage(this)">
                    <img src="img/raw/Love.jpg" class="chosenImages" alt="" onclick="setImage(this)">
                    <img src="img/ContentMistyPicture_textup_blank.png" class="chosenImages" alt="" onclick="setImage(this)">
                    <img src="img/mistyi_photo_closeup.jpg" class="chosenImages" alt="" onclick="setImage(this)">
                    <img src="img/facetable.png" onclick="setImage(this)">
                    
                            
                </div>
			<!-- </div> -->
            
            </div>
            
			
			<!-- Face WoZ-->
			<h2>Expression Display Control</h2>
		
            
            <p> to do: delete images </p>
            <h3> Available images </h3>
                <p> Below are the image currently available to display on Misty. Set the display duration and click on a picture to display. *After timeout, refers back to "blank stare." Clicking one after another, will overlap the previous. </p>
                <label for= "durationTextBox" > Display Duration: </label>
                <input type="text" name="duration" id="durationTextBox" onchange="setDisplayDuration()" value = "5">
                    
            <h3>Console: </h3>
			<textarea id="results"></textarea>
            <div class="gallery" id="AvailableImagesGallery">
                <p id="ImageStatus" > TODO: Currently Static. Ideally Dynamic (hidden when connected) No images available. Connect to robot. </p>
                
                <img src="img/raw/Love.jpg" class="displayImages" alt="" id="test" onclick="displayImage(this)">
          
                <img src="img/raw/Sad.jpg" class="displayImages" alt="" id="test" onclick="displayImage(this)">
            </div>

			
			<!-- Movement WoZ-->
			<h2>Movement Control</h2>
            <div class="gallery" id="command">
				<button type="button" id="start">Start turning left </button>
                <button type="button" id="right180" onclick="rightquickbit()" >Turn right a bit</button>
                <button type="button" id="lookdown" onclick="lookDown()">Look down</button>
                <button type="button" id="lookdown" onclick="lookDown()">Look up</button>
                <button type="button" id="lookdown" onclick="lookDown()">Nod. HEAD not working?!</button>
                <button type="button" id="lookdown" onclick="lookDown()">Forward</button>
                <button type="button" id="lookdown" onclick="lookDown()">Backward</button>
                <button type="button" id="wiggle" onclick="wiggle()">Wiggle? Dances?</button>
				<button type="button" id="stop">Stop moving</button>
                
                
			</div>
            
			<!-- Sample -->
			<h2>MISC: </h2>
			<!-- <h3>Command: </h3> -->
			<!-- <div id="command"> -->
				<!-- <p>Have Misty turn in a circle, scan for faces, and play an audio file when a face is detected.</p> -->
				<!-- <button type="button" id="start">Start</button> -->
				<!-- <button type="button" id="stop">Stop</button> -->
			<!-- </div> -->
			
		
		</div>
		<!-- SCRIPTS -->
		<script src="scripts/mymainappscript.js"></script>
		<script src="scripts/displaysetupscript.js"></script>
	</body>
</html>
